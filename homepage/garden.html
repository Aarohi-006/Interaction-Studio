<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Garden of Forking Paths</title>
<link rel="stylesheet" href="garden.css">
</head>

<body>

<div id="container">

<svg id="tree" viewBox="0 0 1000 700">

  <!-- branches -->
  <line x1="500" y1="650" x2="500" y2="520" class="branch"/>
  <line x1="500" y1="520" x2="350" y2="400" class="branch"/>
  <line x1="500" y1="520" x2="650" y2="400" class="branch"/>
  <line x1="350" y1="400" x2="250" y2="260" class="branch"/>
  <line x1="350" y1="400" x2="420" y2="260" class="branch"/>
  <line x1="650" y1="400" x2="580" y2="260" class="branch"/>
  <line x1="650" y1="400" x2="750" y2="260" class="branch"/>

  <!-- nodes -->
  <circle cx="500" cy="650" r="14" class="node"/>
  <circle cx="500" cy="520" r="14" class="node"/>
  <circle cx="350" cy="400" r="14" class="node"/>
  <circle cx="650" cy="400" r="14" class="node"/>
  <circle cx="250" cy="260" r="14" class="node"/>
  <circle cx="420" cy="260" r="14" class="node"/>
  <circle cx="580" cy="260" r="14" class="node"/>
  <circle cx="750" cy="260" r="14" class="node"/>

</svg>

<div id="panel">
  <div id="textContent">Click a node to enter the labyrinth.</div>
</div>

</div>

<!-- ✅ INLINE SCRIPT (guaranteed to run) -->
<script>

const fullText = `To Victoria Ocampo

In his A History of the World War, Captain Liddell Hart reports a planned offensive...

I hung up the phone and recognized Madden’s voice...

I lay on the narrow bed watching the evening sky...

All things happen precisely now...

I knew I possessed the secret name...

I developed my plan...

I am a timorous man...

I fled toward Ashgrove...

The train moved through ash trees...

I arrived at the iron gate...

Stephen Albert welcomed me...

The garden of forking paths is a labyrinth of time...

Infinite futures branch and converge...

I fired the revolver...

The name reached Berlin...

I await the hangman with infinite penitence.`;

const paragraphs = fullText.split("\n\n").filter(p => p.trim() !== "");

const nodes = document.querySelectorAll(".node");
const panel = document.getElementById("textContent");

nodes.forEach((node, i) => {
  node.addEventListener("click", () => {
    panel.innerText = paragraphs[i % paragraphs.length];
  });
});

</script>

</body>
</html>
