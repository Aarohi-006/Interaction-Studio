<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>The Book of Sand</title>

<link href="https://fonts.googleapis.com/css2?family=EB+Garamond:wght@400;500&display=swap" rel="stylesheet">
<link rel="stylesheet" href="sand.css">

</head>

<body>

<div class="sand-overlay"></div>

<div class="scroll-wrapper" id="scrollWrapper">
  <div class="text" id="textContent">

    <!-- BLOCK 1 -->
    <div class="block">
      <p>The short stories of Jorge Luis Borges, written more than twenty years ago, have become classics of contemporary literature.</p>
      <p>Like the distinctive stories in Ficciones and The Aleph, these stories artfully blend many genres.</p>
      <p>The Book of Sand is an important addition to Borges' works.</p>
      <!-- paste full text here -->
    </div>

    <!-- BLOCK 2 (duplicate for loop illusion) -->
    <div class="block">
      <p>The short stories of Jorge Luis Borges, written more than twenty years ago, have become classics of contemporary literature.</p>
      <p>Like the distinctive stories in Ficciones and The Aleph, these stories artfully blend many genres.</p>
      <p>The Book of Sand is an important addition to Borges' works.</p>
    </div>

  </div>
</div>

<script>
const wrapper = document.getElementById('scrollWrapper');
const paragraphs = document.querySelectorAll('p');

// Fade based on position
wrapper.addEventListener('scroll', () => {
  paragraphs.forEach(p => {
    const rect = p.getBoundingClientRect();
    const windowHeight = window.innerHeight;

    const center = windowHeight / 2;
    const distance = Math.abs(center - rect.top);

    let opacity = 1 - (distance / center);
    opacity = Math.max(0, Math.min(1, opacity));

    p.style.opacity = opacity;
  });

  // Infinite loop reset
  if (wrapper.scrollTop >= wrapper.scrollHeight / 2) {
    wrapper.scrollTop = 0;
  }
});
</script>

</body>
</html>
