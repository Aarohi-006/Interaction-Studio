/* ================================= */
/* BASE */
/* ================================= */

body{
  margin:0;
  background:#e8e0d6;
  font-family:Georgia, serif;
  color:#7b3a2a;
  height:100vh;
  overflow:hidden;
}

/* ================================= */
/* STAGE */
/* ================================= */

.stage{
  width:100vw;
  height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  position:relative;
}

/* ================================= */
/* MAZE GRID */
/* ================================= */

.maze{
  width:85vmin;
  height:85vmin;

  display:grid;
  grid-template-areas:
    "top top top"
    "left center right"
    "bottom bottom bottom";

  grid-template-columns: 24% 1fr 24%;
  grid-template-rows: 20% 1fr 20%;

  position:absolute;
  visibility:hidden;
}

.maze.active{
  visibility:visible;
}

/* ================================= */
/* WALL BASE */
/* ================================= */

.wall{
  padding:2vmin;
  font-size:1.2vmin;
  line-height:1.6;
  box-sizing:border-box;
  text-align:center;
  overflow:hidden;

  transform-origin:center;
  will-change:transform;
  backface-visibility:hidden;
  transform:translateZ(0);

  transition:transform .25s ease, background .25s ease, color .25s ease;
}

/* Hover subtle lift */
.wall:hover{
  transform:scale(1.03) translateZ(0);
}

/* ================================= */
/* WALL CLICK HIGHLIGHT */
/* ================================= */

.wall.focused{
  background:#f3e6db;
  color:#5a2d1f;
  transform:scale(1.05) translateZ(0);
  z-index:5;
}

/* ================================= */
/* WALL POSITIONS */
/* ================================= */

.top{
  grid-area:top;
}

.bottom{
  grid-area:bottom;
  transform:rotate(180deg) translateZ(0);
}

.left{
  grid-area:left;
  writing-mode:vertical-rl;
  text-orientation:mixed;
}

.right{
  grid-area:right;
  writing-mode:vertical-rl;
  text-orientation:mixed;
  transform:rotate(180deg) translateZ(0);
}

/* ================================= */
/* CENTER COMPLEX MAZE CORE */
/* ================================= */

.center{
  grid-area:center;
  position:relative;
  display:flex;
  align-items:center;
  justify-content:center;
  overflow:hidden;
}

/* Main vertical corridor */
.center::before{
  content:"";
  position:absolute;
  width:2px;
  height:80%;
  background:#5a2d1f;
  left:50%;
  top:10%;
  transform:translateX(-50%);
  opacity:0.8;
}

/* Main horizontal corridor */
.center::after{
  content:"";
  position:absolute;
  height:2px;
  width:80%;
  background:#5a2d1f;
  top:50%;
  left:10%;
  transform:translateY(-50%);
  opacity:0.8;
}

/* Inner broken maze fragments */
.center .maze-lines{
  position:absolute;
  width:70%;
  height:70%;
  pointer-events:none;
}

/* Inner vertical broken segment */
.center .maze-lines::before{
  content:"";
  position:absolute;
  width:2px;
  height:40%;
  background:#5a2d1f;
  left:30%;
  top:0;
  opacity:0.7;
}

/* Inner horizontal broken segment */
.center .maze-lines::after{
  content:"";
  position:absolute;
  height:2px;
  width:40%;
  background:#5a2d1f;
  right:0;
  bottom:30%;
  opacity:0.7;
}

/* ================================= */
/* FINAL LEVEL EMPHASIS */
/* ================================= */

.level14 .center::before,
.level14 .center::after,
.level14 .maze-lines::before,
.level14 .maze-lines::after{
  background:#7a1e12;
}


